{% extends 'base.html.twig' %}


{% block title %}Boutique{% endblock %}

{% block body %}

{# <div class="container col-8 "> #}

    {# <p class="col-md-8 bg-dark justify-content-center text-warning rounded-lg p-1 mt-3" style="font-size: 2rem;">NOS PRODUITS</p> #}

{# <div class="bg-dark">Pierre Thomain #}
{# <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="">Accueil</a></li>
        <li class="breadcrumb-item"><a href="">Accueil</a></li>
        <li class="breadcrumb-item"><a href="">Accueil</a></li> #}
    {# {% include 'rhumasug/_filter.html.twig' with {form: form} only %} #}
    {# {{ form(form) }} #}
{# </div> #}

<div class="container">
<div class="col-md-12 mt-1 bg-dark p-2 rounded-lg mb-3">
<p class="col-md-12 bg-secondary text-center text-warning rounded-lg p-1 mt-1" style="font-size: 2rem;">NOS PRODUITS</p>
        {% include 'product/_filter.html.twig' with {form: form} only %}
</div>
</div>

{# <div class="album">
   <div class="container"> 
    <div class="row"> 
        {# show all product #}

        <div class="container">
        <div class="col-md-12">
        <div class="row"> 

{% if products | length > 0%}
{% for product in products %}

    {# <div class="col-md-3"  style="margin-bottom:10px">
        <div class="card border-light mb-3" >
            <div class="card-body  btn btn-dark" > 
                <img class="img-fluid w-75 rounded-lg mb-1" style="margin: auto;" src="{{ asset(produit.photo) }}" alt="Third slide" width="70px" height="100px">
                <h6 class="card-title btn btn-dark mt-2" style='text-align:center;'>{{ produit.designation | upper }}</h6>
                <h5 class="card-title text-warning mt-3 mb-3" style='text-align:center'>Prix : {{ produit.prix }} €</h5>
               
                <div class="align-items-center">
                    <div class="btn-group">
                        <button type="button" class="btn btn-sm btn-success">
                            <a href="{{ path('addPanier',{'id':produit.id}) }}" class="btn btn-success pr-4 pl-3"><i class="fas fa-shopping-cart"></i></a>
                        </button>
                        <button type="button" class="btn btn-sm btn-primary">
                            <a href="{{ path('detail',{'id':produit.id}) }}" class="btn btn-primary pr-5 pl-5"><i class="fas fa-eye"></i></a> 
                        </button>
                    </div>
                </div>

            </div>            
        </div>
    </div>  #}
<div class="container-fluid col-sm-12 col-md-4 col-lg-3 mb-4">
<div class="card text-center" style="box-shadow: 10px 10px 15px grey;">

{# <p class="bg-secondary text-warning p-2">Pas encore de note<a href="" class="float-right"><i class="fas fa-heart fa-2x text-warning"></i></a></p> #}

   
        <p class="bg-secondary text-warning py-3" style="color:white;"><a href="{{ path('evaluation', {'id' : product.id}) }}" style="text-decoration: none;"><span class="text-warning ml-1 float-left ml-2"><i class="fas fa-eye"></i> AVIS CLIENTS</span></a> {% if product.promo == 0 %} {% else %}<span class="badge badge-warning float-right mr-2 p-1"><i class="fas fa-tag mr-1"></i> <b>Promo !</b></span> {% endif %}</p>
        {# <p class="text-warning mb-2" style="color:white;"><a href="{{ path('evaluation', {'id' : product.id}) }}" style="text-decoration: none;"><span class="text-warning ml-1 float-left ml-2"><i class="fas fa-eye"></i> AVIS CLIENTS</span></a></p></br> #}
    
        {# {% if product.promo == 0 %} {% else %}<p class="badge badge-warning float-left ml-2 p-1"><i class="fas fa-tag mr-1"></i> <b>Promo !</b></p> {% endif %} #}

    {# <p class="py-3 bg-secondary text-warning" style="color:white;"><a href="{{ path('evaluation', {'id' : product.id}) }}" style="text-decoration: none;"><small class="float-left ml-2">  <span class="text-warning ml-1"><i class="fas fa-eye"></i> Pas encore d'avis !</span></small></a> {% if product.promo == 0 %} {% else %}<span class="badge badge-warning float-right mr-2 p-1"><i class="fas fa-tag mr-1"></i> <b>Promo !</b></span> {% endif %}</p> #}
    {# <p>Pas encore de note !</p> #}


  <a href="{{ path('product', {'slug' : product.slug}) }}" class="card-img-top" style="text-decoration: none;"><img class="card-img-top text-center p-3" src="/uploads/products/{{ product.illustration }}" alt="Card image cap" style="height: auto; width: 70%;">
  
  <p style="width: 3rem; height: 3rem; border-radius: 100%; line-height: 3rem; background-color: orange; font-size: 1.2rem; color: black; text-align: center; position: absolute; top: 4rem ; right: 0.5rem; box-shadow: 10px 10px 12px grey;"><i> {{ product.characteristic.degree }}°</i></p>
  <p style="width: 3rem; height: 3rem; border-radius: 100%; line-height: 3rem; background-color: orange; font-size: 1rem; color: black; text-align: center; position: absolute; top: 8rem ; right: 0.5rem; box-shadow: 10px 10px 12px grey;"><i>{{ product.conditioning.volume }}</i></p>
 
  

  <div class="card-body bg-dark">
    {# <h5 class="card-title text-light text-left" style="font-size: 1rem;">{{ product.name | upper }} - <span class="text-warning">{{ produit.volume }}</span</h5> #}
    {# <h5 class="card-title text-light text-left" style="font-size: 1rem;">{{ product.name | upper }} - <span class="text-warning">70 cL</span</h5> #}
    <h5 class="card-title text-light text-left" style="font-size: 1rem;">{{ product.name | upper }}</h5>
</h5>

    <h5 class="card-title text-light text-left mt-3" style="font-size: 1rem;"><i class="fas fa-globe-americas"></i> {{ product.characteristic.origin }}</h5>
    
        {# <p class="card-title text-light text-center">{{ produit.volume }}</p> #}
        {# <p class="card-title text-light text-center">{{ produit.degre }} °</p> #}

</a>

    <div class="row justify-content-between">
        <div class="col-8">
        {# <u><p class="card-text text-warning text-center" style="font-size: 1.5rem;">Prix : {{ produit.prix }} € TTC</p></u> #}
        {# <u><p class="card-text text-warning text-center" style="font-size: 1.5rem;">Prix : {{ produit.prix }} € TTC</p></u> #}
        <p class="card-text text-warning text-left" style="font-size: 1.2rem; border-bottom: 1px solid white;">{{ ((product.price)/100) | number_format(2, ',', '.')}} € <small>TTC</small></p>
        {# <div class="dropdown-divider"></div> #}
        </div>
        <div class="col-4 text-right">


        {% if app.user %}
        {# <button type="button" class="btn btn-success pl-3 pr-3 text-center" data-toggle="modal" data-target="#fenetre1"> #}
        {# <a href="{{ path('addPanier',{'id':product.id}) }}" class="btn btn-success pl-3 pr-3 text-center"><i class="fas fa-shopping-cart text-light"></i></a> #}
        {# <a href="{{ path('product', {'slug' : product.slug}) }}" class="btn btn-success pl-3 pr-3 text-center"><i class="fas fa-shopping-cart text-light"></i></a> #}
        <a href="{{ path('add_to_cart',{'id':product.id}) }}" class="btn btn-success px-4 mr-4"><i class="fas fa-shopping-cart text-light"></i></a>   
        {# <i class="fas fa-shopping-cart text-light"></i> #}
        {# </button> #}

        {% else %}

        <a href="{{ path('app_login') }}" class="btn btn-success p-4 text-center"><i class="fas fa-shopping-cart text-light"></i></a>   
        {% endif %}
        

        <!-- Fenêtre modale des informations sur les catégories-->
        <div class="modal fade" id="fenetreProvenances" tabindex="-1" role="dialog" aria-labelledby="titrefenetre" aria-hidden="true">
        <div class="modal-dialog modal-lg bg-light" role="document">
        <div class="modal-header">
        <h5 class="modal-title" id="titrefenetre"><i class="fas fa-info-circle"></i> LES ZONES DE PROVENANCE DES RHUMS</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Fermer">
        <span aria-hidden="true">&times;</span>
        </button>
        </div>

        <p class="modal-body text-left">Les rhums pur canne ne peuvent être produits que dans les pays producteurs de canne à sucre, car une fois coupé, la canne
        à sucre se conserve mal et nécessite d'être transformé rapidement à la différence des rhums de mélasse, car la mélasse peut se stocker. Si le rhum est depuis 
        longtemps produit dans les Caraïbes, en Amérique du Sud et Amérique Centrale, dans les Iles Françaises, on commence à trouver des rhums produits dans des pays 
        inattendus comme la France métropolitaine.</p>

        <div class="row">
            <div class="col-6">
                <img src="{{ asset('assets/img/Martinique.png') }}" alt="Martinique" class="img-fluid">
                <p>Martinique</p>
            </div>
            <div class="col-6">
                <img src="{{ asset('assets/img/Guadeloupe.png') }}" alt="Guadeloupe" class="img-fluid">
                <p>Guadeloupe</p>
            </div>
            <div class="col-6">
                <img src="{{ asset('assets/img/AmeriqueCentrale.png') }}" alt="Amérique Centrale" class="img-fluid">
                <p>Amérique Centrale</p>
            </div>
            <div class="col-6">
                <img src="{{ asset('assets/img/AmeriqueDuSud.png') }}" alt="Amerique du Sud" class="img-fluid">
                <p>Amérique du Sud</p>
            </div>
            <div class="col-6">
                <img src="{{ asset('assets/img/Caraïbes.png') }}" alt="Caraïbes" class="img-fluid">
                <p>Caraïbes</p>
            </div>
            <div class="col-6">
                <img src="{{ asset('assets/img/OceanIndien.png') }}" alt="Océan Indien" class="img-fluid">
                <p>Océan Indien</p>
            </div>
            <div class="col-6">
                <img src="{{ asset('assets/img/Asie.png') }}" alt="Asie" class="img-fluid">
                <p>Asie</p>
            </div>
        </div>
        </div>
        </div>


        <!-- Fenêtre modale des informations sur le provenances-->
        <div class="modal fade" id="fenetreCategories" tabindex="-1" role="dialog" aria-labelledby="titrefenetre" aria-hidden="true">
        <div class="modal-dialog modal-lg bg-light" role="document">
        <div class="modal-header">
        <h5 class="modal-title" id="titrefenetre"><i class="fas fa-info-circle"></i> LES CATEGORIES DE RHUM</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Fermer">
        <span aria-hidden="true">&times;</span>
        </button>
        </div>

        <p class="modal-body text-left">
        Le mot rhum est générique et regroupe différents types de rhums : les rhums agricoles dont la canne à sucre entière est broyée pour faire du rhum,
        les rhums traditionnels (ou industriels) produits à partir de la mélasse et les rhums arrangés dans lesquels vont macérés différentes plantes, fruits ou épices.
        </p> 

        <p class="modal-body text-left">
        La canne à sucre a été découverte en Asie, d'où elle a ensuite voyagé vers l'Inde, alors cultivée pour son sucre. Elle va peu à peu s'étendre vers 
        l'est, au fur et à mesure du développement des civilisations. Le sucre était considéré comme une épice et se vendait cher. Elle arrive jusqu'à Madère 
        et aux Canaries, et c'est Christophe Colomb qui l'emmènera en Amérique en 1493, lors de son 2ème voyage. Les Espagnols vont la développer dans les 
        Caraïbes, là où les Portugais l'implanteront sur le territoire sud-américain. En 1625, le Brésil est le principal fournisseur en sucre de l'Europe. 
        La production d'eau-de-vie à partir de la canne à sucre débutera au XVIIème siècle. Considéré pendant longtemps comme un sous-produit de l'industrie 
        sucrière, le rhum était destiné aux esclaves et aux marins. Ce n'est qu'au XXème siècle que le rhum sera considéré comme un produit noble avec le 
        développement des cocktails et punchs. 
        Produit aujourd'hui sur 20 millions d'hectares, la canne à sucre est la première production mondiale, servant à produire du sucre, du rhum et des 
        biocarburants. La canne est une plante qui a craint le froid et a besoin de beaucoup de d'eau, ce qui limite son implantation dans les pays chauds. 
        </p>


        <p class="modal-body text-left">
        Tous nos RHUMS sont des <b>Rhums agricoles</b> issus d'une agriculture biologique. Ils sont produits dans les Dom-Tom directement à partir de canne à sucre broyée et non de mélasse. 
        C'est une AOC réglementée, qui interdit par exemple les macérations de fruits ou d'épices. La production est régit par réglementation stricte des AOP Rhum Agricole. 
        </p>


        <div class="modal-body">
              
                  <div class="col-md-12 align-items-middle">
                      <div class="row">


                    <table class="table">
                    <thead>
                        <tr>
                        <th class="text-center align-middle">Types</th>
                        <th class="text-center align-middle">Caractéristiques</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                        <th class="text-center align-middle"><h4><strong>Les rhums blancs</strong></h4></th>
                        <td>
                        <p class="text-left">Qu’ils soient de natures agricoles ou traditionnelles, les rhums blancs sont la base essentielle pour la création de divers cocktails et punchs. 
                            Pour certains rhums blancs, le degré d’alcool est plus de 40 %. Après distillation, ils sont placés dans des cuves en inox durant plusieurs semaines. 
                            Dans cette phase, ils sont brassés, afin d’améliorer leur arôme, puis les rhums blancs sont additionnés avec de l’eau distillée ou de l’eau de source 
                            avant leurs mises en bouteilles.<br>
                            Les rhums blancs sont alors les rhums les plus jeunes. Pour des cocktails corsés et raffinés, il est conseillé de choisir un rhum agricole, à base de 
                            jus de canne à sucre fraîchement pressé. Ces rhums sont souvent fruités et aromatisés. Les rhums traditionnels conçus à base de mélasse, sont utilisés 
                            de préférence pour préparer des rhums arrangés fait maison.
                        </p>
                        </td>
                        </tr>
                        <tr>
                        <th class="text-center align-middle"><h4><strong>Les rhums ambrés</strong></h4></th>
                        <td>
                        <p class="text-left">Les rhums ambrés sont en général des rhums blancs, qui sont reposés d’une durée de 12 à 24 mois dans une foudre de chêne. Les différents rhums ambrés 
                            sont parfois usés en guise de composant des cocktails parfumés et colorés. Ce sont des rhums d’une saveur délicieux et qui apportent beaucoup de subtilité.<br>
                            Le rhum ambré trouve donc une place importante dans l’élaboration du rhum arrangé. Comparé avec le rhum blanc agricole, le rhum ambré détient 20 % d’alcool 
                            de moins que dans ce genre de rhum. Il est beaucoup moins alcoolisé !.<br>
                        </p>      
                        </td>
                        </tr>
                        <tr>
                        <th class="text-center align-middle"><h4><strong>Les rhums vieux</strong></h4></th>
                        <td>
                        <p class="text-left">D’une manière générale, la couleur ambrée ou caramel du rhum provienne des fûts de chêne dans lesquels le rhum est macéré. Le rhum ambré peut être vieilli 
                            durant une année ou une année et demie afin d’être haut de gamme, meilleur et de qualité. C’est un rhum spécialement adapté à l’élaboration des cocktails. 
                            Cependant, les rhums vieux sont les plus compliqués. Pour savoir l’âge du rhum, seuls les temps passés dans les foudres de chênes comptent, car il cesse de 
                            vieillir et se stabilise lors de son embouteillage.<br>
                            Les différents rhums ont donc leurs particularités. Les rhums blancs sont placés 3 mois dans des foudres en chêne, ce sont les plus jeunes. Les rhums ambrés 
                            restent 18 mois dans des fûts, tandis que les rhums vieux de 3 à 6 ans. Chaque rhum détient une saveur unique !
                            </p>
                        </td>
                        </tr>
                    </tbody>
                    </table>
                    </div>
                </div>
            </div>


        {# <div class="modal-footer">
        <button type="button" class="btn btn-success" data-dismiss="modal"><a href="{{ path('addPanier',{'id':produit.id}) }}" class="text-light"><i class="fas fa-check text-light"></i> CONFIRMER</a></button>
        <button type="button" class="btn btn-danger" data-dismiss="modal"><a href="{{ path('accueil') }}" class="text-light"><i class="fas fa-times text-light"></i> ANNULER</a></button>
        </div> #}
        </div>
        </div>





        </div>
    </div>







    {# <p class="card-text text-warning text-center" style="font-size: 1.5rem;">Prix : {{ produit.prix }} €</p>

    <a href="{{ path('addPanier',{'id':produit.id}) }}" class="btn btn-success pl-3 pr-3"><i class="fas fa-shopping-cart"></i></a> #}

    {# <div class="text-center">
    <div class="col-12">

        <p class="card-text text-warning text-center" style="font-size: 1.5rem;">Prix : {{ produit.prix }} €</p>

    <button type="button" class="btn btn-sm text-right">
        <a href="{{ path('addPanier',{'id':produit.id}) }}" class="btn btn-success pl-3 pr-3"><i class="fas fa-shopping-cart"></i></a>
    </button> #}

    {# <button type="button" class="btn btn-sm">
        <a href="{{ path('detail',{'id':produit.id}) }}" class="btn btn-primary pl-3 pr-3"><i class="fas fa-eye"></i></a>
    </button> #}
    </div>
    </div>
    </div>

  {# </div>
 
</div>
</div>    #}
    {% endfor %}

    {# </div> #}

{% else %}

    <div class="container mt-5 mb-5">
        <div class="col-md-12">
            <div class="alert alert-info text-center mt-5">
                {# <p class="mt-5 mb-5" style="font-size: 2rem;">{{ message }}</p> #}
            {# <div class="mt-5 mb-5">
                <a href="" class="badge badge-success p-3 mr-5" style="font-size: 1rem;">Accueil du site</a>
                <a href="" class="badge badge-warning p-3" style="font-size: 1rem;">Aller voir la boutique</a>
            </div> #}
            </div>
        </div>
    </div>

{% endif %}
        
</div>
</div> 
</div>

<div class="d-flex justify-content-center mt-5" style="margin-top: 2rem; margin-bottom: 3rem;">
    {{ knp_pagination_render(products) }}
</div>

</div>
</div>



{% block javascripts %}

{% endblock %}

 <!-- Fenêtre modale -->
        {# <div class="modal fade" id="fenetre1" tabindex="-1" role="dialog" aria-labelledby="titrefenetre" aria-hidden="true">
        <div class="modal-dialog modal-lg bg-light" role="document">
        <div class="modal-header">
        <h5 class="modal-title" id="titrefenetre"><i class="fas fa-cart-arrow-down"></i> AJOUT AU PANIER</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Fermer">
        <span aria-hidden="true">&times;</span>
        </button>
        </div>

        <h3 class="modal-body">Le produit suivant va être ajouté dans votre panier d'achat :</h3>


        <div class="modal-body">
              
                  <div class="col-md-12 align-items-middle">
                      <div class="row">



                    <table class="table">
                    <thead>
                        <tr>
                        <th class="text-center align-middle">Photo</th>
                        <th class="text-center align-middle">Désignation</th>
                        <th class="text-center align-middle">Prix TTC</th>
                        <th class="text-center align-middle">Quantité</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                        <td><img src="{{ produit.photo }}" class="img-fluid" width="80" alt="img"></td>
                        <td class="text-center align-middle"><h4><strong>{{ produit.designation }}</strong></h4></td>
                        <td class="text-center align-middle"><h4><strong>{{ produit.prix | number_format(2, ',', '.')}} €</strong></h4></td>
                        <td class="text-center align-middle"><h4><span style="font-size: 1.2rem; font-weight: bold;"> 1</span></h4></td>
                        </tr>
                    </tbody>
                    </table>
                    </div>
                </div>
            </div>


        <div class="modal-footer">
        <button type="button" class="btn btn-success" data-dismiss="modal"><a href="{{ path('addPanier',{'id':produit.id}) }}" class="text-light"><i class="fas fa-check text-light"></i> CONFIRMER</a></button>
        <button type="button" class="btn btn-danger" data-dismiss="modal"><a href="{{ path('accueil') }}" class="text-light"><i class="fas fa-times text-light"></i> ANNULER</a></button>
        </div>
        </div>
        </div>

        </div>
    </div> #}


{% endblock %}