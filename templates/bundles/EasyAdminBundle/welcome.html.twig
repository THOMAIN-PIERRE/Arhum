{# @var ea \EasyCorp\Bundle\EasyAdminBundle\Context\AdminContext #}

{# Je construis ma page d'accueil d'Admin (= mon dashboard) comme je le veux avec bootstrap ! #}
{% extends '@EasyAdmin/page/content.html.twig' %}

{% block page_title '' %}

{% block page_content %}
  
    <div class="container-fluid col-md-12">
        <div class="row ">
            <div class="col-md-6 bg-primary rounded-lg text-light mt-3 mb-3" style="height: 12rem;">
                <p class="display-5 mt-5 font-weight-bold">CLIENTS</p>
                <div class="row">
                <div class="col-md-3"><i class="fas fa-users fa-4x" style="text-shadow: 2px 6px 10px black;"></i></div> 
                {% if countAllUsers['value'] > 0 %}
                <div class="col-md-8"><p class="display-4" style="text-shadow: 2px 6px 10px black;"> {{ countAllUsers['value'] }}</p></div> 
                {% else %}
                <p class="col-md-8" style="font-size: 1rem;"><i class="fas fa-exclamation-circle"></i> Vous n'avez pas encore de clients.</p>
                {% endif %}
                </div>
            </div>
            <div class="col-md-6 bg-warning rounded-lg text-light mt-3 mb-3" style="height: 12rem;">
                <p class="display-5 mt-5 font-weight-bold">PRODUITS</p>
                <div class="row">
                <div class="col-md-3"><i class="fas fa-tshirt fa-4x" style="text-shadow: 2px 6px 10px black;"></i></div> 
                {% if countAllProducts['value'] > 0 %}
                <div class="col-md-8"><p class="display-4" style="text-shadow: 2px 6px 10px black;">{{ countAllProducts['value'] }}</p></div> 
                {% else %}
                <p class="col-md-8" style="font-size: 1rem;"><i class="fas fa-exclamation-circle"></i> Vous n'avez pas encore enregistré de produits.</p>
                {% endif %}
                </div>
            </div>
            <div class="col-md-6 bg-danger rounded-lg text-light mt-3 mb-3 style="height: 12rem;"">
                <p class="display-5 mt-5 font-weight-bold">TOTAL COMMANDES</p>
                <div class="row">
                <div class="col-md-3"><i class="fas fa-shopping-cart fa-4x" style="text-shadow: 2px 6px 10px black;"></i></div> 
                {% if countAllOrders['value'] > 0 %}
                <div class="col-md-8"><p class="display-4" style="text-shadow: 2px 6px 10px black;">{{ countAllOrders['value'] }}</p></div>
                {% else %}
                <p class="col-md-8" style="font-size: 1rem;"><i class="fas fa-exclamation-circle"></i> En attente de votre première commande client.</p>
                {% endif %} 
                </div>
            </div>
            {# <div class="col-md-5 bg-success rounded-lg m-2 text-light">
                <p class="display-5 mt-3 font-weight-bold">Chiffre d'affaire (semaine)</p>
                <div class="row">
                <div class="col-md-4"><i class="fas fa-euro-sign fa-4x"></i></div>  
                <div class="col-md-8"><p class="display-4">{{ weekSalesRevenue['value'] }}</p></div>
                </div>
            </div> #}
            {# <div class="col-md-5 bg-success rounded-lg m-2 text-light">
                <p class="display-5 mt-3 font-weight-bold">Chiffre d'affaire (total)</p>
                <div class="row">
                <div class="col-md-4"><i class="fas fa-euro-sign fa-4x"></i></div>  
                <div class="col-md-8"><p class="display-4">{{ totalSalesRevenue['value'] }}</p></div> 
                </div>
            </div> #}
            
            <div class="col-md-6 bg-secondary rounded-lg text-dark mt-3 mb-3" style="height: 12rem;">
                <p class="mt-5 font-weight-bold">COMMANDES CONVERTIES</p>
                <div class="row">
                <div class="col-md-3"><i class="fas fa-cart-arrow-down fa-4x" style="text-shadow: 2px 6px 10px white;"></i></div> 
                {% if countConvertedOrders['convertedOrders'] > 0 %}
                <div class="col-md-8"><p class="display-4" style="text-shadow: 2px 6px 10px black;">{{ countConvertedOrders['convertedOrders'] }}</p></div> 
                {% else %}
                <p class="col-md-8" style="font-size: 1rem;"> <i class="fas fa-exclamation-circle"></i> Il n'y a pas encore de commande convertie</p>
                {% endif %}
                </div>
            </div>
            <div class="col-md-6 bg-dark rounded-lg text-light mt-3 mb-3" style="height: 12rem;">
                <p class="display-5 mt-5 font-weight-bold">TAUX DE CONVERSION</p>
                <div class="row">
                <div class="col-md-3"><i class="fas fa-percentage fa-4x" style="text-shadow: 2px 6px 10px black;"></i></div>
                {% if countConvertedOrders['convertedOrders'] > 0 %} 
                <div class="col-md-8"><p class="display-4" style="text-shadow: 2px 6px 10px black;">{{ ((countConvertedOrders['convertedOrders'] / countAllOrders['value']) * 100) | number_format(1, ',', '.') }} %</p></div> 
                {% else %}
                <p class="col-md-8" style="font-size: 1rem;"><i class="fas fa-exclamation-circle"></i> Taux non calculé (absence de commande convertie).</p>
                {% endif %}
                </div>
            </div>
            <div class="col-md-6 bg-success rounded-lg text-light mt-3 mb-3" style="height: 12rem;">
                <p class="display-5 mt-5 font-weight-bold">CHIFFRE D'AFFAIRE</p>
                <div class="row">
                <div class="col-md-3"><i class="fas fa-coins fa-4x" style="text-shadow: 2px 6px 10px black;"></i></div> 
                {% if totalSalesRevenue['value'] > 0 %} 
                <div class="col-md-8"><p class="display-4" style="text-shadow: 2px 6px 10px black;">{{ totalSalesRevenue['value'] }} €</p></div> 
                {% else %}
                <p class="col-md-8" style="font-size: 3rem;">0,00 €</p>
                {% endif %}
                </div>
            </div>
        </div>                                                                                    
      
   

    



  
{% block javascript %}
    <script src="../assets/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.min.js" integrity="sha384-uO3SXW5IuS1ZpFPKugNNWqTZRRglnUJK6UAZ/gxOX80nxEkN9NcGZTftn6RzhGWE" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js" integrity="sha384-zNy6FEbO50N+Cg5wap8IKA4M/ZnLJgzc6w2NqACZaK0u0FXfOWRRJOnQtpZun8ha" crossorigin="anonymous"></script><script src="../assets/js/dashboardChart.js"></script><script src="../assets/js/dashboardPieChart.js"></script>

    {% endblock %}
  </body>
</html>


{% endblock %}
